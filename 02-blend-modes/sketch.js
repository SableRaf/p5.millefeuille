let ls,redGradient,greenGradient,blueGradient,backgroundGraphic;function createGradientEllipse(e,r,t,a="gradientEllipse"){const l=createElement("canvas"),n=createGraphics(r,t,l.elt);l.attribute("id",a),l.attribute("class","p5.Graphics"),l.attribute("width",r),l.attribute("height",t);const i=n.drawingContext,s=i.createLinearGradient(0,t/2,r,t/2);return s.addColorStop(0,`rgb(${e[0]}, ${e[1]}, ${e[2]})`),s.addColorStop(1,"rgb(255, 255, 255)"),i.fillStyle=s,n.noStroke(),n.ellipse(r/2,t/2,r,t),n}function createBackgroundGradient(e,r,t="backgroundGradient"){const a=createElement("canvas"),l=createGraphics(e,r,a.elt);a.attribute("id",t),a.attribute("class","p5.Graphics"),a.attribute("width",e),a.attribute("height",r),l.noStroke();const n=100;for(let t=0;t<n;t++){const a=map(t,0,n,0,r),i=r/n;let s,d,c;if(t<50){const e=t/50;s=lerp(255,255,e),d=lerp(255,0,e),c=lerp(0,255,e)}else{const e=(t-50)/50;s=lerp(255,0,e),d=lerp(0,255,e),c=lerp(255,255,e)}for(let r=0;r<n;r++){const t=map(r,0,n,0,e),o=e/n;let p=s,u=d,g=c;if(r<50){const e=r/50;p=lerp(0,s,e),u=lerp(0,d,e),g=lerp(0,c,e)}else{const e=(r-50)/50;p=lerp(s,255,e),u=lerp(d,255,e),g=lerp(c,255,e)}l.fill(p,u,g),l.rect(t,a,o,i)}}return l}window.setup=function(){createCanvas(600,600,WEBGL),backgroundGraphic=createBackgroundGradient(600,600),redGradient=createGradientEllipse([255,0,0],200,560,"redEllipse"),greenGradient=createGradientEllipse([0,255,0],200,560,"greenEllipse"),blueGradient=createGradientEllipse([0,0,255],200,560,"blueEllipse"),ls=createLayerSystem(),ls.createLayer("Background"),ls.createLayer("Red Ellipse").setBlendMode(BlendModes.NORMAL),ls.createLayer("Green Ellipse").setBlendMode(BlendModes.NORMAL),ls.createLayer("Blue Ellipse").setBlendMode(BlendModes.NORMAL),ls.createUI()},window.draw=function(){ls.begin("Background"),clear(),push(),imageMode(CENTER),image(backgroundGraphic,0,0),pop(),ls.end(),ls.begin("Red Ellipse"),clear(),push(),rotate(radians(30)),imageMode(CENTER),image(redGradient,0,0),pop(),ls.end(),ls.begin("Green Ellipse"),clear(),push(),rotate(radians(90)),imageMode(CENTER),image(greenGradient,0,0),pop(),ls.end(),ls.begin("Blue Ellipse"),clear(),push(),rotate(radians(150)),imageMode(CENTER),image(blueGradient,0,0),pop(),ls.end(),ls.render()};